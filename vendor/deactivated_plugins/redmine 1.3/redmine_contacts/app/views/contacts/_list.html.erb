<% if @contacts && @contacts.any? %>
<% form_tag({}) do %>
  <table class="list contacts">
    <thead><tr>
    <!-- <th class="checkbox hide-when-print"><%= link_to image_tag('toggle_check.png'), {} %></th> -->
    <th>#</th>
    <th><%=l(:field_contact_name)%></th>
    <th><%=l(:field_contact_email)%></th>
    <th><%=l(:field_contact_phone)%></th>
    </tr></thead>
    <tbody>
    <% for contact in @contacts %>
    <tr id="contact-<%= h(contact.id) %>" class="hascontextmenu <%= cycle('odd', 'even') %>">

      <!-- <td class="checkbox hide-when-print"><%= check_box_tag("ids[]", contact.id, false, :id => nil) %></td> -->
      <td class="id">
        <%= link_to(h(contact.id), :controller => 'contacts', :action => 'show', :id => contact) %>
      </td>
      <td class="name avatar">
        <%= link_to(avatar_to(contact, :size => "16"),  contact_url(contact), :id => "avatar") + ' ' + link_to_source(contact) %>
        <%# link_to h(truncate(contact.name, :length => 60)), :controller => 'contacts', :action => 'show', :id => contact %>
      </td>
      <td class="mail"><%= mail_to contact.emails && contact.emails.first%></td>
      <td class="phone" style="white-space: nowrap;"><%= h contact.phones && contact.phones.first %></td>
    </tr>
    <% end %>
    </tbody>
  </table>
<% end %>
<%= contacts_paginator @contacts_pages, :params => {:project_id => params[:project_id]} if @contacts_pages %>      

<% else %>
  <p class="nodata"><%= l(:label_no_data) %></p>
<% end %>